---
const HERO_IMAGES = [
  {
    src: "/hero/slider-1.webp",
    alt: "Kepler Metrology Servicios"
  },
  {
    src: "/hero/slider-2.jpg",
    alt: "Soluciones de Metrología"
  },
  {
    src: "/hero/slider-3.jpg",
    alt: "Tecnología de Medición"
  }
];

const TRANSITION_TIME = 3000;
---

<section class="relative w-full overflow-hidden flex justify-center items-center py-8 px-4">
  <div class="max-w-6xl w-full relative rounded-lg border-2 border-secondary overflow-hidden aspect-video">
    {
      HERO_IMAGES.map((image, index) => (
        <div
          class="hero-slide absolute inset-0 opacity-0 transition-opacity duration-1000 ease-in-out"
          data-index={index}
        >
          <img
            src={image.src}
            alt={image.alt}
            class="h-full w-full object-cover"
          />
        </div>
      ))
    }
  </div>
</section>

<style>
  .hero-slide {
    z-index: 0;
  }
  
  .hero-slide.active {
    opacity: 1;
    z-index: 1;
  }
</style>

<script define:vars={{ TRANSITION_TIME }}>
  const slides = document.querySelectorAll('.hero-slide');
  let currentSlide = 0;

  function showSlide(index) {
    slides.forEach(slide => slide.classList.remove('active'));
    slides[index].classList.add('active');
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }

  // Mostrar la primera imagen
  showSlide(0);

  // Iniciar el intervalo para cambiar las imágenes
  setInterval(nextSlide, TRANSITION_TIME);
</script>