---
import Section from "@/components/Section.astro";
import { getI18N } from "@/i18n";
import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";
import ClockIcon from "@/components/icons/ClockIcon.astro";
import SearchIcon from "@/components/icons/SearchIcon.astro";
import ShieldIcon from "@/components/icons/ShieldIcon.astro";
import GearIcon from "@/components/icons/GearIcon.astro";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);
---

<Section id="marketplace" title={i18n.MARKETPLACE.TITLE}>
  <!-- Bento Grid de Beneficios -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 sm:gap-6">
    <!-- Beneficio 1: Gran tarjeta -->
    <div
      class="bg-primary/90 text-white rounded-2xl shadow-lg p-6 md:col-span-2 lg:col-span-2 lg:row-span-2 transform transition-transform hover:-translate-y-1 hover:shadow-xl"
    >
      <div class="flex flex-col h-full">
        <div
          class="bg-white/20 w-16 h-16 rounded-full flex items-center justify-center mb-4"
        >
          <ClockIcon class="w-8 h-8" />
        </div>
        <h3 class="text-2xl font-bold font-expansiva mb-3">
          {i18n.MARKETPLACE.SAVE_TIME.TITLE}
        </h3>
        <p class="text-white/90 mb-6 flex-grow">
          {i18n.MARKETPLACE.SAVE_TIME.DESCRIPTION}
        </p>

        <a
          href={translatePath("/marketplace")}
          class="bg-white hover:bg-gray-100 text-primary font-bold py-3 px-6 rounded-lg text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl text-center"
        >
          {i18n.MARKETPLACE.SAVE_TIME.CTA}
        </a>
        <!-- 
        <div class="hidden md:block mt-6">
          <img
            src="/images/time-saving.svg"
            alt={i18n.MARKETPLACE.SAVE_TIME.TITLE}
            class="w-full h-32 object-contain"
          />
        </div> -->
      </div>
    </div>

    <!-- Beneficio 2 -->
    <div
      class="bg-white/80 rounded-2xl shadow-lg p-6 transform transition-transform hover:-translate-y-1 hover:shadow-xl flex flex-col"
    >
      <div
        class="bg-primary/10 w-14 h-14 rounded-full flex items-center justify-center mb-4"
      >
        <SearchIcon class="w-7 h-7 text-primary" />
      </div>
      <h3 class="text-xl font-bold text-gray-800 font-expansiva mb-3">
        {i18n.MARKETPLACE.TRANSPARENCY.TITLE}
      </h3>
      <p class="text-gray-600 text-sm">
        {i18n.MARKETPLACE.TRANSPARENCY.DESCRIPTION}
      </p>
    </div>

    <!-- Beneficio 3 -->
    <div
      class="bg-secondary/80 text-white rounded-2xl shadow-lg p-6 transform transition-transform hover:-translate-y-1 hover:shadow-xl flex flex-col"
    >
      <div
        class="bg-white/20 w-14 h-14 rounded-full flex items-center justify-center mb-4"
      >
        <ShieldIcon class="w-7 h-7" />
      </div>
      <h3 class="text-xl font-bold font-expansiva mb-3">
        {i18n.MARKETPLACE.QUALITY.TITLE}
      </h3>
      <p class="text-white/90 text-sm">
        {i18n.MARKETPLACE.QUALITY.DESCRIPTION}
      </p>
    </div>

    <!-- Beneficio 4 -->
    <div
      class="bg-primary-light/80 rounded-2xl shadow-lg p-6 transform transition-transform hover:-translate-y-1 hover:shadow-xl flex flex-col md:col-span-2 lg:col-span-2"
    >
      <div class="flex items-start gap-6">
        <div
          class="bg-primary/20 w-14 h-14 rounded-full flex items-center justify-center shrink-0"
        >
          <GearIcon class="w-7 h-7 text-primary" />
        </div>
        <div>
          <h3 class="text-xl font-bold text-gray-800 font-expansiva mb-3">
            {i18n.MARKETPLACE.PORTFOLIO.TITLE}
          </h3>
          <p class="text-gray-600">
            {i18n.MARKETPLACE.PORTFOLIO.DESCRIPTION}
          </p>
        </div>
      </div>
    </div>
  </div>
</Section>

<style>
  /* Para asegurar que las tarjetas tengan altura completa */
  .grid > div {
    height: 100%;
  }
</style>
